{% load static %}
<!DOCTYPE html> 
<html lang="en">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Kiosk Form</title>
<!-- plugins:css -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<link rel="icon" type="image/png" href="{% static 'images/logo-mini1.png' %}">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<style>
    /* Add your custom styles here */  
  body {
    padding: 20px;
    font-family: Arial, sans-serif;
    background-color: white; /* Add this line to set the background color to white */
  }
  
    .loading-icon {
      display: none;
      text-align: center;
      margin-top: 10px;
    }

 

    .loading-icon i {
      font-size: 40px;
      animation: spin 2s linear infinite;
    }

 

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

 

  .keywords-box {
    border: 1px solid #ccc;
    padding: 10px;
    border-radius: 10px;
  }

 

  .keyword-button {
    display: inline-block;
    margin: 5px;
    padding: 8px 10px;
    border-radius: 5px; /* Change border-radius for square shape */
    background: linear-gradient(180deg, #f0f0f0, #d0d0d0);
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    border: none;
    font-size: 14px;
  }

 

  .keyword-button.selected {
    background: linear-gradient(180deg, forestgreen, #2cca0d);
    color: white;
  }
  #showMoreButton {
    display: none;
    margin-top: 10px;
  }

 

  #popupFormContainer {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: white;
    z-index: 9999;
    overflow: hidden; /* Hide overflow initially */
  }

 

  #popupForm {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 20px;
    background-color: #fff;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    max-width: 1200px;
    max-height: 70vh;
    overflow: auto;
  }
  #popupForm.show {
    overflow: auto; /* Show scrollbar when needed */
  }

  .custom-label {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 150px; /* Adjust this value to control label width */
}

.custom-textarea {
    height: 150px; /* Adjust this value to control textarea height */
    resize: vertical;
}
 
      #successMessage {
          display: none;
          text-align: center;
          margin-top: 10px;
          padding: 5px;
          background-color: #a0d468;
          color: #fff;
          border-radius: 5px;
      }
      #contactForm {
          display: flex;
          flex-direction: column;
          gap: 10px;
      }
      #contactForm input,
    #contactForm select,
      #contactForm textarea {
          padding: 10px;
          border: 1px solid #ccc;
          border-radius: 5px;
      }
      #contactForm textarea {
          resize: vertical;
      }
      #submitBtn {
    background-color: green;
    color: #fff;
    padding: 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    margin-left: auto; /* This aligns the button to the right */
    align-self: flex-end; /* Ensures button stays at the bottom */
  }
      #submitBtn:hover {
          background-color: #a9c52b;
      }
       /* Add your custom styles here */
    .popupForm {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f5f5f5;
      border-radius: 10px;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    }

 

    .error-message {
display: none;
color: red;
}

 

.message {
color: gray;
}
    .form-group {
      margin-bottom: 20px;
    }
    .form-inline label {
      display: inline-block;
      width: 100px;
    }

 

    .form-inline input,
    .form-inline select {
      width: calc(50% - 60px);
      margin-right: 20px;
    }
    .form-group.email {
      display: flex;
      flex-direction: column;
    }
    .form-group.email label,
    .form-group.email input {
      width: 100%;
    }
    .form-row {
      display: flex;
      justify-content: space-between;

 

    }
    .form-row .form-group {

 

      width: 40%;
    }
    .keywords-box {
      display: flex;
      align-items: center;
    }
    .keywords-box button {
      margin-left: auto;
    }
    .form-group textarea {
      width: 100%;
      height: 100px;
    }
    #successMessage {
      display: none;
      margin-top: 10px;
      color: green;
    }
    /* Styles for the success modal */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
}
.modal-content {
  background-color: #fff; /* Change background color */
  margin: 10% auto;
  padding: 20px;
  border-radius: 5px;
  width: 80%;
  max-width: 400px;
  text-align: center;
  position: relative;
}
/* Media queries for responsiveness */
    @media (max-width: 768px) {
      .form-row {
        flex-direction: column;
      }
      .form-row .form-group {
        width: 100%;
      }
      .keywords-box {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  .input-group-prepend {
    display: flex;
    align-items: center;
    margin-right: 5px;
}
#countryCode {
    width: 70px; /* Adjust the width as needed */
    margin-right: 5px; /* Add some space between the dropdown and the input */
}

 

#phone {
    flex: 1;
}
    .keywords-box {
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 10px;
    }
   .keyword-button {
      display: inline-block;
      margin: 5px;
      padding: 8px 10px;
      border-radius: 5px; /* Change border-radius for square shape */
      background: linear-gradient(180deg, #f0f0f0, #d0d0d0);
      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
      cursor: pointer;
      border: none;
      font-size: 14px;
    }
     .keyword-button.selected {
      background: linear-gradient(180deg, green, hsl(147, 94%, 37%));
      color: white;
    }
    #showMoreButton {
      display: none;
      margin-top: 10px;
    }
  /* Styles for the selected products message box */
.selected-products-message {
    display: none;
    margin-top: 10px;
    padding: 5px;
    background-color: #f0f0f0;
    border: 1px solid #ccc;
    border-radius: 5px;
    text-align: center;
    font-size: 12px;
    color: gray;
}

 

/* Show the selected products message when needed */
.selected-products-message.active {
    display: block;
}
/* Styles for the success modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
    }

 

 

    .modal-content {
      background-color: #fff;
      margin: 10% auto;
      padding: 20px;
      border-radius: 5px;
      width: 80%;
      max-width: 400px;
      text-align: center;
      position: relative;
    } 

    /* Media queries for responsiveness */
    @media (max-width: 768px) {
            /* Add mobile-specific styles here */
            #popupForm {
                width: 100%;
                max-width: 80%;
            }

 

            .form-group {
                margin-bottom: 10px;
            }

 

            .form-inline label {
                width: 100%;
            }

 

            .form-inline input,
            .form-inline select {
                width: 100%;
                margin-right: 0;
            }

 

            .keywords-box {
                flex-direction: column;
                align-items: flex-start;
            }

 

            .keyword-button {
                width: 100%;
                margin: 5px 0;
                text-align: left;
            }

 

            #showMoreButton {
                width: 100%;
            }
        }

</style>
</head>
<body>
<div class="container-scroller">
<div id="contactFormContainer">
<div id="popupForm" style="width:658px; overflow: auto;">

<form id="contactForm" method="post" action="">
    {% csrf_token %}
<div class="form-row">
<div class="form-group col-md-6">
<label for="first_name">Name</label><span style="color: red;">*</span><br><br>
<input type="text" id="first_name" name="first_name" placeholder="Enter your name" required pattern="[A-Za-z\s]+" title="Enter a valid name (only alphabetical characters)">
<span class="error-message" id="nameError">Please enter a valid name.</span>
</div>
<div class="form-group col-md-6">
<label for="company_name">Company Name</label><span style="color: red;">*</span><br><br>
<input type="text" id="company_name" name="company_name" placeholder="Enter your Company name" required pattern="[A-Za-z\s]+" title="Enter a valid company name (only alphabetical characters)">
<span class="error-message" id="nameError">Please enter a valid Company name.</span>
</div>
</div>
<div class="form-row">
<div class="form-group col-md-6">
<label for="state">Located In</label><span style="color: red;">*</span><br><br>
<select class="form-control" id="state" name="state" required>
<option value="" selected disabled>Select your Location</option>
<option value="Andhra Pradesh">Andhra Pradesh</option>
<option value="Arunachal Pradesh">Arunachal Pradesh</option>
<option value="Assam">Assam</option>
<option value="Bihar">Bihar</option>
<option value="Chhattisgarh">Chhattisgarh</option>
<option value="Goa">Goa</option>
<option value="Gujarat">Gujarat</option>
<option value="Haryana">Haryana</option>
<option value="Himachal Pradesh">Himachal Pradesh</option>
<option value="Jharkhand">Jharkhand</option>
<option value="Karnataka">Karnataka</option>
<option value="Kerala">Kerala</option>
<option value="Madhya Pradesh">Madhya Pradesh</option>
<option value="Maharashtra">Maharashtra</option>
<option value="Manipur">Manipur</option>
<option value="Meghalaya">Meghalaya</option>
<option value="Mizoram">Mizoram</option>
<option value="Nagaland">Nagaland</option>
<option value="Odisha">Odisha</option>
<option value="Punjab">Punjab</option>
<option value="Rajasthan">Rajasthan</option>
<option value="Sikkim">Sikkim</option>
<option value="Tamil Nadu">Tamil Nadu</option>
<option value="Telangana">Telangana</option>
<option value="Tripura">Tripura</option>
<option value="Uttar Pradesh">Uttar Pradesh</option>
<option value="Uttarakhand">Uttarakhand</option>
<option value="West Bengal">West Bengal</option>
</select>
</div>
<div class="form-group col-md-6">
<label for="phone">Phone Number</label><span style="color: red;">*</span><br><br>
<div class="input-group">
<div class="input-group-prepend">
<select id="countryCode" name="countryCode" required>
<option value="+91">+91 </option>
<option value="+93">+93</option>
<option value="+54">+54</option>
<option value="+61">+61</option>
<option value="+43">+43</option>
<option value="+880">+880</option>
<option value="+32">+32</option>
<option value="+975">+975</option>
<option value="+55">+55</option>
<option value="+855">+855</option>
<option value="+86">+86</option>
<option value="+242">+242</option>
<option value="+53">+53</option>
<option value="+45">+45</option>
<option value="+20">+20</option>
<option value="+251">+251</option>
<option value="+679">+679</option>
<option value="+358">+358</option>
<option value="+33">+33</option>
<option value="+49">+49</option>
<option value="+30">+30</option>
<option value="+299">+299</option>
<option value="+852">+852</option>
<option value="+36">+36</option>
<option value="+354">+354</option>
<option value="+62">+62</option>
<option value="+98">+98</option>
<option value="+964">+964</option>
<option value="+353">+353</option>
<option value="+972">+972</option>
<option value="+39">+39</option>
<option value="+81">+81</option>
<option value="+962">+962</option>
<option value="+254">+254</option>
<option value="+850">+850</option>
<option value="+82">+82</option>
<option value="+965">+965</option>
<option value="+856">+856</option>
<option value="+961">+961</option>
<option value="+231">+231</option>
<option value="+218">+218</option>
<option value="+370">+370</option>
<option value="+352">+352</option>
<option value="+261">+261</option>
<option value="+60">+60</option>
<option value="+960">+960</option>
<option value="+230">+230</option>
<option value="+52">+52</option>
<option value="+377">+377</option>
<option value="+976">+976</option>
<option value="+212">+212</option>
<option value="+258">+258</option>
<option value="+95">+95</option>
<option value="+977">+977</option>
<option value="+31">+31</option>
<option value="+64">+64</option>
<option value="+234">+234</option>
<option value="+47">+47</option>
<option value="+968">+968</option>
<option value="+92">+92</option>
<option value="+680">+680</option>
<option value="+507">+507</option>
<option value="+51">+51</option>
<option value="+63">+63</option>
<option value="+48">+48</option>
<option value="+351">+351</option>
<option value="+974">+974</option>
<option value="+40">+40</option>
<option value="+966">+966</option>
<option value="+381">+381</option>
<option value="+65">+65</option>
<option value="+677">+677</option>
<option value="+252">+252</option>
<option value="+27">+27</option>
<option value="+34">+34</option>
<option value="+94">+94</option>
<option value="+249">+249</option>
<option value="+46">+46</option>
<option value="+41">+41</option>
<option value="+66">+66</option>
<option value="+216">+216</option>
<option value="+90">+90</option>
<option value="+256">+256</option>
<option value="+380">+380</option>
<option value="+971">+971</option>
<option value="+44">+44</option>
<option value="+998">+998</option>
<option value="+58">+58</option>
<option value="+379">+379</option>
<option value="+84">+84</option>
<option value="+967">+967</option>
<option value="+263">+263</option>
<option value="+260">+260</option>
<option value="+678">+678</option>
<option value="+688">+688</option>
<option value="+993">+993</option>
<option value="+677">+677</option>
<option value="+221">+221</option>
<option value="+1">+1</option>
<option value="+7">+7</option>
</select>
<input type="tel" id="phone" name="phone" placeholder="Enter your phone number" pattern="^\d{10,12}$" required>
</div>
</div>
</div>
</div>
<div class="form-row">
    <div class="form-group col-md-6">
        <label for="email">Email Address</label><span style="color: red;">*</span><br><br>
        <input type="email" id="email" name="email" placeholder="Enter your email address" required>
    </div>
    <div class="form-group col-md-6">
        <label for="product_name">Product Name</label><span style="color: red;">*</span><br><br>
        <input type="text" id="product_name" name="product_name" placeholder="Enter Product Name" required>
    </div>
</div>

<div class="form-row">
<div class="form-group col-md-6">
  <label for="department">Service Aligned To</label><br><br>
  <select class="form-control" id="department" name="department">
    <option value="" selected disabled>Select</option>
    {% for department in departments %}
        <option value="{{ department.dname }}">{{ department.dname }}</option>
    {% endfor %}
  </select>
</div>
<div class="form-group col-md-6">
    <label for="website_name">Website Name</label><br><br>
    <input type="text" id="website_name" name="website_name" placeholder="Enter Website Name">
</div>
</div>  
<div class="form-row">
    <div class="form-group col-md-6">
        <label class="mr-2 custom-label" for="description">Short Description about your Business:</label><br><br>
        <textarea class="form-control custom-textarea" id="description" name="description" style="width:300px;"></textarea>
    </div>
</div>   
<div class="form-row">
    <div class="form-group col-md-6">
        <input type="checkbox" class="form-check-input" id="same_industry" name="same_industry">
        <label class="form-check-label" for="same_industry">Supplied to Same Industry</label>
    </div>
</div>  
<div class="form-row" "form-inline">
    <div class="form-group col-md-6">
        <label for="appointment">Specific Appointment</label><br><br>
        <input type="text" id="appointment" name="appointment">
    </div>
</div>
<div class="form-group"><br>
  <!-- Add a loading icon element -->
<div class="loading-icon" id="loadingIcon">
  <i class="fas fa-spinner"></i> <!-- You can replace this with your preferred loading icon -->
  </div>
<button type="submit" id="submitBtn">Submit</button>
</div>
<span class="close" id="closeFormBtn" style="display: none;"></span>
</form>
</div>
</div>
</div>
</div>
<!-- Rest of the HTML code remains unchanged -->  

<script>
 
  document.getElementById('contactForm').addEventListener('submit', function(event) {
    event.preventDefault();  // Prevent the default form submission behavior
    // Show loading icon
    document.getElementById('loadingIcon').style.display = 'block';
    // Use AJAX to submit the form data
    $.ajax({
        url: '/forms/{{ user.username }}/',  // Add the URL where the form data should be submitted
        type: 'POST',
        data: $('#contactForm').serialize(),
        success: function(response) {
            // Hide loading icon
            document.getElementById('loadingIcon').style.display = 'none';
            // Show success message using SweetAlert
            swal({
                title: 'Success',
                text: 'Email sent successfully',
                icon: 'success',
            }).then(() => {
                // Redirect to the form page
                window.location.href = '/forms/{{ user.username }}/';  // Replace with the actual URL
            });
        },
        error: function(error) {
            // Handle any errors if needed
            console.error('Error:', error);
        }
    });
});
</script>
</body>
</html>